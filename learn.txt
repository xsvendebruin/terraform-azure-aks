az group create -l westeurope -n RG_Sven
az aks create -l westeurope -g RG_Sven -n aks-cluster-k8s --network-plugin none

az aks get-credentials --resource-group RG_Sven --name aks-cluster-k8s

kubectl get node -o custom-columns='NAME:.metadata.name,STATUS:.status.conditions[?(@.type=="Ready")].message'

az aks delete --name aks-cluster-k8s --resource-group RG_Sven --yes




az extension add --name aks-preview
az feature register --namespace "Microsoft.ContainerService" --name "ManagedCluster"
(https://github.com/Azure/azure-rest-api-specs/blob/06dbe269f7d9c709cc225c92358b38c3c2b74d60/specification/containerservice/resource-manager/Microsoft.ContainerService/aks/preview/2023-02-02-preview/managedClusters.json#L7152-L7173)
Zoeken naar NetworkDataplane


Once the feature 'ManagedCluster' is registered, invoking 'az provider register -n Microsoft.ContainerService' is required to get the change propagated
{
  "id": "/subscriptions/94afa3b8-efb5-48c9-87b1-09bd64a4669a/providers/Microsoft.Features/providers/Microsoft.ContainerService/features/ManagedCluster",
  "name": "Microsoft.ContainerService/ManagedCluster",
  "properties": {
    "state": "Pending"
  },
  "type": "Microsoft.Features/providers/features"
}

az provider register -n Microsoft.ContainerService

az feature show --namespace "Microsoft.ContainerService" --name "ManagedCluster"